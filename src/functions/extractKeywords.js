const englishStopWords = [
  "a",
  "able",
  "about",
  "above",
  "according",
  "accordingly",
  "across",
  "actually",
  "after",
  "afterwards",
  "again",
  "against",
  "ain't",
  "all",
  "allow",
  "allows",
  "almost",
  "alone",
  "along",
  "already",
  "also",
  "although",
  "always",
  "am",
  "among",
  "amongst",
  "an",
  "and",
  "another",
  "any",
  "anybody",
  "anyhow",
  "anyone",
  "anything",
  "anyway",
  "anyways",
  "anywhere",
  "apart",
  "appear",
  "appreciate",
  "appropriate",
  "are",
  "aren't",
  "around",
  "as",
  "aside",
  "ask",
  "asking",
  "associated",
  "at",
  "available",
  "away",
  "awfully",
  "b",
  "be",
  "became",
  "because",
  "become",
  "becomes",
  "becoming",
  "been",
  "before",
  "beforehand",
  "behind",
  "being",
  "believe",
  "below",
  "beside",
  "besides",
  "best",
  "better",
  "between",
  "beyond",
  "both",
  "brief",
  "but",
  "by",
  "c'mon",
  "c",
  "came",
  "can't",
  "can",
  "cannot",
  "cant",
  "cause",
  "causes",
  "certain",
  "certainly",
  "changes",
  "clearly",
  "co",
  "com",
  "come",
  "comes",
  "concerning",
  "consequently",
  "consider",
  "considering",
  "contain",
  "containing",
  "contains",
  "corresponding",
  "could",
  "couldn't",
  "course",
  "currently",
  "d",
  "definitely",
  "described",
  "despite",
  "did",
  "didn't",
  "different",
  "do",
  "does",
  "doesn't",
  "doing",
  "don't",
  "done",
  "down",
  "downwards",
  "during",
  "e",
  "each",
  "edu",
  "eg",
  "eight",
  "either",
  "else",
  "elsewhere",
  "enough",
  "entirely",
  "especially",
  "et",
  "etc",
  "even",
  "ever",
  "every",
  "everybody",
  "everyone",
  "everything",
  "everywhere",
  "ex",
  "exactly",
  "example",
  "except",
  "f",
  "far",
  "few",
  "fifth",
  "first",
  "five",
  "followed",
  "following",
  "follows",
  "for",
  "former",
  "formerly",
  "forth",
  "four",
  "from",
  "further",
  "furthermore",
  "g",
  "get",
  "gets",
  "getting",
  "given",
  "gives",
  "go",
  "goes",
  "going",
  "gone",
  "got",
  "gotten",
  "greetings",
  "h",
  "had",
  "hadn't",
  "happens",
  "hardly",
  "has",
  "hasn't",
  "have",
  "haven't",
  "having",
  "he's",
  "he",
  "hello",
  "help",
  "hence",
  "her",
  "here's",
  "here",
  "hereafter",
  "hereby",
  "hers",
  "herself",
  "hi",
  "him",
  "himself",
  "his",
  "hither",
  "hopefully",
  "how",
  "howbeit",
  "however",
  "i'd",
  "i'll",
  "i'm",
  "i've",
  "i",
  "ie",
  "if",
  "ignored",
  "immediate",
  "in",
  "inc",
  "indeed",
  "indicate",
  "indicated",
  "indicates",
  "inner",
  "instead",
  "into",
  "inward",
  "is",
  "isn't",
  "it'd",
  "it'll",
  "it's",
  "it",
  "its",
  "itself",
  "j",
  "just",
  "k",
  "keep",
  "keeps",
  "kept",
  "know",
  "known",
  "knows",
  "l",
  "last",
  "lately",
  "later",
  "latter",
  "least",
  "less",
  "lest",
  "let's",
  "let",
  "like",
  "liked",
  "likely",
  "little",
  "look",
  "looking",
  "looks",
  "ltd",
  "m",
  "mainly",
  "many",
  "may",
  "maybe",
  "me",
  "mean",
  "meanwhile",
  "merely",
  "might",
  "more",
  "moreover",
  "most",
  "mostly",
  "much",
  "must",
  "my",
  "myself",
  "n",
  "name",
  "namely",
  "nd",
  "near",
  "nearly",
  "necessary",
  "need",
  "needs",
  "neither",
  "never",
  "nevertheless",
  "new",
  "next",
  "nine",
  "no",
  "nobody",
  "non",
  "none",
  "nor",
  "normally",
  "not",
  "nothing",
  "novel",
  "now",
  "nowhere",
  "o",
  "obviously",
  "of",
  "off",
  "often",
  "oh",
  "ok",
  "okay",
  "old",
  "on",
  "once",
  "one",
  "ones",
  "only",
  "onto",
  "or",
  "other",
  "others",
  "otherwise",
  "ought",
  "our",
  "ours",
  "ourselves",
  "out",
  "outside",
  "over",
  "overall",
  "own",
  "p",
  "particular",
  "particularly",
  "per",
  "perhaps",
  "placed",
  "please",
  "plus",
  "possible",
  "presumably",
  "probably",
  "provides",
  "q",
  "que",
  "quite",
  "qv",
  "r",
  "rather",
  "rd",
  "re",
  "really",
  "reasonably",
  "regarding",
  "regardless",
  "regards",
  "relatively",
  "respectively",
  "right",
  "s",
  "said",
  "same",
  "saw",
  "say",
  "saying",
  "says",
  "second",
  "secondly",
  "see",
  "seeing",
  "seem",
  "seemed",
  "seeming",
  "seems",
  "seen",
  "self",
  "selves",
  "sensible",
  "sent",
  "serious",
  "seriously",
  "seven",
  "several",
  "shall",
  "she",
  "should",
  "shouldn't",
  "since",
  "six",
  "so",
  "some",
  "somebody",
  "somehow",
  "someone",
  "something",
  "sometime",
  "sometimes",
  "somewhat",
  "somewhere",
  "soon",
  "sorry",
  "specified",
  "specify",
  "specifying",
  "still",
  "sub",
  "such",
  "sup",
  "sure",
  "t",
  "take",
  "taken",
  "tell",
  "tends",
  "th",
  "than",
  "thank",
  "thanks",
  "that's",
  "that",
  "thats",
  "the",
  "their",
  "theirs",
  "them",
  "themselves",
  "then",
  "thence",
  "there's",
  "there",
  "thereafter",
  "thereby",
  "therefore",
  "therein",
  "theres",
  "these",
  "they'd",
  "they'll",
  "they're",
  "they've",
  "they",
  "think",
  "third",
  "this",
  "thorough",
  "thoroughly",
  "those",
  "though",
  "three",
  "through",
  "throughout",
  "thru",
  "thus",
  "to",
  "together",
  "too",
  "took",
  "toward",
  "towards",
  "tried",
  "tries",
  "truly",
  "try",
  "trying",
  "twice",
  "two",
  "u",
  "un",
  "under",
  "unfortunately",
  "unless",
  "unlikely",
  "until",
  "unto",
  "up",
  "upon",
  "us",
  "use",
  "used",
  "useful",
  "uses",
  "using",
  "usually",
  "v",
  "value",
  "various",
  "very",
  "via",
  "viz",
  "vs",
  "w",
  "want",
  "wants",
  "was",
  "wasn't",
  "way",
  "we'd",
  "we'll",
  "we're",
  "we've",
  "we",
  "welcome",
  "well",
  "went",
  "were",
  "weren't",
  "what's",
  "what",
  "whatever",
  "when",
  "whence",
  "whenever",
  "where's",
  "where",
  "whereas",
  "whereby",
  "wherein",
  "wherever",
  "whether",
  "which",
  "while",
  "whither",
  "who's",
  "who",
  "whoever",
  "whole",
  "whom",
  "whose",
  "why",
  "will",
  "willing",
  "wish",
  "with",
  "within",
  "without",
  "won't",
  "wonder",
  "would",
  "wouldn't",
  "x",
  "y",
  "yes",
  "yet",
  "you'd",
  "you'll",
  "you're",
  "you've",
  "you",
  "your",
  "yours",
  "yourself",
  "yourselves",
  "z",
  "zero",
];
const englishAdjectives = [
  "abandoned",
  "able",
  "absolute",
  "academic",
  "acceptable",
  "accurate",
  "active",
  "actual",
  "adept",
  "adorable",
  "advanced",
  "aggressive",
  "agile",
  "alert",
  "alive",
  "all",
  "amazing",
  "ambitious",
  "ample",
  "ancient",
  "angry",
  "animated",
  "another",
  "any",
  "appropriate",
  "apt",
  "arctic",
  "assured",
  "attached",
  "attractive",
  "authentic",
  "authorized",
  "automatic",
  "average",
  "aware",
  "awesome",
  "awful",
  "back",
  "bad",
  "bare",
  "based",
  "basic",
  "beautiful",
  "best",
  "better",
  "big",
  "bitter",
  "black-and-white",
  "black",
  "blank",
  "blazing",
  "blind",
  "blond",
  "blue",
  "bogus",
  "bold",
  "boring",
  "both",
  "bouncy",
  "brave",
  "brief",
  "bright",
  "brilliant",
  "brisk",
  "broken",
  "brown",
  "busy",
  "calculating",
  "calm",
  "candid",
  "capital",
  "careful",
  "cheap",
  "chief",
  "circular",
  "classic",
  "clean",
  "clear",
  "clever",
  "close",
  "closed",
  "cloudy",
  "cold",
  "colorful",
  "comfortable",
  "common",
  "complete",
  "complex",
  "complicated",
  "composed",
  "concrete",
  "conscious",
  "constant",
  "content",
  "conventional",
  "cool",
  "cooperative",
  "corrupt",
  "costly",
  "crafty",
  "crazy",
  "creative",
  "crisp",
  "critical",
  "curly",
  "cute",
  "damp",
  "dangerous",
  "dapper",
  "dark",
  "dead",
  "deadly",
  "dear",
  "decent",
  "decimal",
  "deep",
  "defensive",
  "definite",
  "definitive",
  "delayed",
  "delicious",
  "delightful",
  "dense",
  "dependent",
  "descriptive",
  "detailed",
  "determined",
  "different",
  "difficult",
  "digital",
  "dim",
  "direct",
  "dirty",
  "discrete",
  "distinct",
  "dizzy",
  "double",
  "drab",
  "dry",
  "dual",
  "dull",
  "each",
  "eager",
  "early",
  "easy",
  "elastic",
  "electric",
  "elegant",
  "elementary",
  "elliptical",
  "empty",
  "entire",
  "equal",
  "essential",
  "ethical",
  "even",
  "evergreen",
  "every",
  "evil",
  "excellent",
  "exciting",
  "exemplary",
  "expensive",
  "expert",
  "extraneous",
  "fabulous",
  "failing",
  "fair",
  "fake",
  "false",
  "familiar",
  "famous",
  "fancy",
  "fantastic",
  "far",
  "fast",
  "fat",
  "fatal",
  "favorite",
  "female",
  "few",
  "fine",
  "finished",
  "firm",
  "first",
  "fitting",
  "fixed",
  "flaky",
  "flat",
  "fluffy",
  "fluid",
  "focused",
  "fond",
  "foolish",
  "forked",
  "formal",
  "frail",
  "frank",
  "free",
  "french",
  "frequent",
  "fresh",
  "friendly",
  "front",
  "frozen",
  "full",
  "fully",
  "functional",
  "funny",
  "fuzzy",
  "general",
  "gentle",
  "giant",
  "gifted",
  "giving",
  "glamorous",
  "glass",
  "glorious",
  "golden",
  "good",
  "gorgeous",
  "graceful",
  "grand",
  "granular",
  "grave",
  "gray",
  "great",
  "greedy",
  "green",
  "grim",
  "gross",
  "growing",
  "grown",
  "hairy",
  "half",
  "handsome",
  "handy",
  "happy",
  "hard",
  "harsh",
  "healthy",
  "heavy",
  "helpful",
  "hidden",
  "high-level",
  "high",
  "hollow",
  "honest",
  "hopeful",
  "horrible",
  "hot",
  "huge",
  "humble",
  "humming",
  "hungry",
  "husky",
  "icy",
  "ideal",
  "identical",
  "idle",
  "illegal",
  "imaginary",
  "immediate",
  "important",
  "impossible",
  "incomplete",
  "incredible",
  "infinite",
  "insecure",
  "intelligent",
  "intent",
  "interesting",
  "internal",
  "international",
  "joint",
  "jolly",
  "juicy",
  "jumbo",
  "junior",
  "keen",
  "key",
  "kind",
  "knowing",
  "known",
  "lame",
  "large",
  "last",
  "late",
  "lazy",
  "leading",
  "leafy",
  "lean",
  "left",
  "legal",
  "light",
  "lightweight",
  "likely",
  "limited",
  "limp",
  "linear",
  "lined",
  "liquid",
  "little",
  "live",
  "lively",
  "lone",
  "lonely",
  "long-term",
  "long",
  "loose",
  "lost",
  "loud",
  "lovely",
  "low",
  "loyal",
  "lucky",
  "luxurious",
  "mad",
  "made-up",
  "major",
  "male",
  "mammoth",
  "massive",
  "mature",
  "mean",
  "medical",
  "medium",
  "memorable",
  "merry",
  "messy",
  "mighty",
  "mild",
  "miniature",
  "minor",
  "misty",
  "mixed",
  "modern",
  "modest",
  "moist",
  "monthly",
  "moral",
  "muted",
  "naive",
  "narrow",
  "nasty",
  "natural",
  "naughty",
  "near",
  "neat",
  "necessary",
  "negative",
  "new",
  "next",
  "nice",
  "nifty",
  "nimble",
  "noisy",
  "normal",
  "noted",
  "novel",
  "numb",
  "obvious",
  "odd",
  "offensive",
  "official",
  "old",
  "only",
  "open",
  "optimal",
  "optimistic",
  "orange",
  "ordinary",
  "organic",
  "original",
  "other",
  "our",
  "outgoing",
  "outstanding",
  "oval",
  "pale",
  "parallel",
  "partial",
  "past",
  "pastel",
  "perfect",
  "periodic",
  "personal",
  "pesky",
  "physical",
  "pink",
  "plain",
  "plastic",
  "playful",
  "pleasant",
  "pleasing",
  "plump",
  "pointless",
  "polished",
  "polite",
  "political",
  "poor",
  "popular",
  "posh",
  "positive",
  "possible",
  "powerful",
  "practical",
  "precious",
  "present",
  "pretty",
  "previous",
  "primary",
  "prime",
  "pristine",
  "private",
  "prize",
  "productive",
  "proper",
  "proud",
  "puny",
  "pure",
  "purple",
  "pushy",
  "quaint",
  "qualified",
  "quick",
  "quiet",
  "radiant",
  "rapid",
  "rare",
  "rash",
  "raw",
  "ready",
  "real",
  "realistic",
  "reasonable",
  "recent",
  "rectangular",
  "red",
  "regal",
  "regular",
  "reliable",
  "remarkable",
  "remote",
  "required",
  "responsible",
  "rich",
  "right",
  "rigid",
  "ripe",
  "robust",
  "rotating",
  "rotten",
  "rough",
  "round",
  "royal",
  "rude",
  "rusty",
  "sad",
  "safe",
  "salty",
  "same",
  "sandy",
  "sane",
  "satisfied",
  "scary",
  "scientific",
  "second",
  "secondary",
  "secret",
  "separate",
  "serious",
  "several",
  "shady",
  "shallow",
  "sharp",
  "shiny",
  "short-term",
  "short",
  "shy",
  "sick",
  "silent",
  "silky",
  "silly",
  "silver",
  "similar",
  "simple",
  "simplistic",
  "single",
  "skeletal",
  "skinny",
  "sleepy",
  "slight",
  "slim",
  "slow",
  "small",
  "smart",
  "smooth",
  "smug",
  "snappy",
  "soft",
  "solid",
  "some",
  "sophisticated",
  "sore",
  "sour",
  "spanish",
  "sparse",
  "specific",
  "spectacular",
  "speedy",
  "spherical",
  "spicy",
  "spry",
  "square",
  "stable",
  "stale",
  "standard",
  "stark",
  "starry",
  "steel",
  "steep",
  "sticky",
  "straight",
  "strange",
  "strict",
  "strong",
  "stunning",
  "stupid",
  "stylish",
  "subtle",
  "sudden",
  "sunny",
  "super",
  "superb",
  "superior",
  "sweet",
  "swift",
  "tall",
  "tame",
  "tan",
  "tart",
  "tasty",
  "taut",
  "tedious",
  "tender",
  "tense",
  "terrible",
  "tested",
  "that",
  "these",
  "thick",
  "thin",
  "third",
  "this",
  "thorough",
  "those",
  "tidy",
  "tight",
  "tiny",
  "tiniest",
  "tired",
  "torn",
  "total",
  "tough",
  "triangular",
  "tricky",
  "trim",
  "trivial",
  "true",
  "trusty",
  "twin",
  "ugly",
  "ultimate",
  "uncommon",
  "unfinished",
  "unhappy",
  "uniform",
  "unique",
  "united",
  "unknown",
  "unused",
  "upset",
  "urban",
  "usable",
  "used",
  "useful",
  "useless",
  "utilized",
  "utter",
  "vague",
  "valid",
  "valuable",
  "variable",
  "vast",
  "venerated",
  "verifiable",
  "vibrant",
  "violet",
  "virtual",
  "visible",
  "vital",
  "vivid",
  "wan",
  "warm",
  "wavy",
  "weak",
  "wee",
  "weekly",
  "weird",
  "welcome",
  "well-documented",
  "well-made",
  "wet",
  "which",
  "white",
  "whole",
  "wicked",
  "wide",
  "wild",
  "winding",
  "windy",
  "wise",
  "witty",
  "wonderful",
  "worse",
  "worst",
  "wrong",
  "yearly",
  "yellow",
  "young",
  "yummy",
  "zesty",
];
const dispensableTerms = [
  "library",
  "libraries",
  "javascript",
  "js",
  "node(js)?",
  "module(s)?",
  "core(s)?",
  "custom",
  "build(s)?",
  "return(s)?",
  "byte(s)?",
  "implementation(s)?",
  "project(s)?",
  "demo(s)?",
];
const stopWords = new RegExp(
  "\\b(" +
    [...englishStopWords, ...englishAdjectives, ...dispensableTerms].join("|") +
    ")\\b",
  "ig"
);
const whiteSpaces = /\s+/;
const punctuation = /[!"#$%&'()*+,./:;<=>?@[\]^_`{|}~]/g;
const composedOnlyOfAsciiCharacters = /^[\u0000-\u007f]*$/;

/**
 * @param {string} currentKeyword
 * @param {number} currentKeywordIndex
 * @param {string[]} extractedKeywords
 * @returns {boolean}
 */
function appearsOnlyOnceInArray(
  currentKeyword,
  currentKeywordIndex,
  extractedKeywords
) {
  return (
    extractedKeywords.findIndex((keyword) => keyword === currentKeyword) ===
    currentKeywordIndex
  );
}

export function extractKeywords(string = "") {
  if (string.length <= 1) return [];

  return string
    .replace(stopWords, "")
    .replace(punctuation, " ")
    .trim()
    .toLowerCase()
    .split(whiteSpaces)
    .map((keyword) => keyword.replace(/^-+|-+$/g, ""))
    .filter(
      (currentKeyword, currentKeywordIndex, extractedKeywords) =>
        currentKeyword.length > 1 &&
        isNaN(parseFloat(currentKeyword)) &&
        composedOnlyOfAsciiCharacters.test(currentKeyword) &&
        appearsOnlyOnceInArray(
          currentKeyword,
          currentKeywordIndex,
          extractedKeywords
        )
    );
}
